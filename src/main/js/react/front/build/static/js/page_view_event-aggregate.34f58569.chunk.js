"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[786],{7309:(e,t,n)=>{n.d(t,{uB:()=>m,wu:()=>h,zJ:()=>p});var i="Start",r="End",a="unloadEvent",o="redirect",s="domainLookup",u="onnect",c="request",f="response",d="loadEvent",l="domContentLoadedEvent",p=[];function h(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},p=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t)return n.of=e,v(n.of,n,"n",!0),v(t[a+i],n,"u",p),v(t[o+i],n,"r",p),v(t[a+r],n,"ue",p),v(t[o+r],n,"re",p),v(t["fetch"+i],n,"f",p),v(t[s+i],n,"dn",p),v(t[s+r],n,"dne",p),v(t["c"+u+i],n,"c",p),v(t["secureC"+u+"ion"+i],n,"s",p),v(t["c"+u+r],n,"ce",p),v(t[c+i],n,"rq",p),v(t[f+i],n,"rp",p),v(t[f+r],n,"rpe",p),v(t.domLoading,n,"dl",p),v(t.domInteractive,n,"di",p),v(t[l+i],n,"ds",p),v(t[l+r],n,"de",p),v(t.domComplete,n,"dc",p),v(t[d+i],n,"l",p),v(t[d+r],n,"le",p),n}function m(e,t){var n;return v("number"===typeof(n=e.type)?n:{navigate:void 0,reload:1,back_forward:2,prerender:3}[n],t,"ty"),v(e.redirectCount,t,"rc"),t}function v(e,t,n,i){if("number"===typeof e&&e>0){if(i){const n=(null===t||void 0===t?void 0:t.of)>0?t.of:0;e=Math.max(e-n,0)}e=Math.round(e),t[n]=e}p.push(e)}},2191:(e,t,n)=>{n.d(t,{S:()=>i});const i={FIRST_PAINT:"fp",FIRST_CONTENTFUL_PAINT:"fcp",FIRST_INPUT_DELAY:"fi",LARGEST_CONTENTFUL_PAINT:"lcp",CUMULATIVE_LAYOUT_SHIFT:"cls",INTERACTION_TO_NEXT_PAINT:"inp",LONG_TASK:"lt",TIME_TO_FIRST_BYTE:"ttfb"}},7911:(e,t,n)=>{n.d(t,{y:()=>o});var i=n(1682),r=n(3980),a=n(2191);const o=new(n(4599).U)(a.S.FIRST_CONTENTFUL_PAINT);if(r.il)if(r.ux)try{if(!r.iS){const e=performance.getEntriesByType("paint");e.forEach((t=>{"first-contentful-paint"===t.name&&o.update({value:Math.floor(t.startTime),entries:e})}))}}catch(s){}else(0,i.a4)((e=>{let{value:t,entries:n}=e;r.iS||o.isValid||o.update({value:t,entries:n})}))},6550:(e,t,n)=>{n.d(t,{U:()=>a});var i=n(3980),r=n(2191);const a=new(n(4599).U)(r.S.FIRST_PAINT);if(i.il){const e=e=>{e.forEach((n=>{"first-paint"!==n.name||a.isValid||(t.disconnect(),a.update({value:n.startTime,entries:e}))}))};let t;try{PerformanceObserver.supportedEntryTypes.includes("paint")&&!i.iS&&(t=new PerformanceObserver((t=>{Promise.resolve().then((()=>{e(t.getEntries())}))})),t.observe({type:"paint",buffered:!0}))}catch(o){}}},3919:(e,t,n)=>{n.d(t,{P:()=>s});var i=n(3980),r=n(2191),a=n(4599),o=n(1682);const s=new a.U(r.S.TIME_TO_FIRST_BYTE);if(i.il&&"undefined"!==typeof PerformanceNavigationTiming&&!i.Tt)(0,o.mr)((e=>{let{value:t,entries:n}=e;s.isValid||s.update({value:t,entries:n})}));else if(!s.isValid){const e={};for(let t in(null===i._A||void 0===i._A||null===(u=i._A.performance)||void 0===u?void 0:u.timing)||{}){var u,c;e[t]=Math.max((null===i._A||void 0===i._A||null===(c=i._A.performance)||void 0===c?void 0:c.timing[t])-i.cv,0)}s.update({value:e.responseStart,entries:[e]})}},4599:(e,t,n)=>{n.d(t,{U:()=>s});var i=n(4572),r=n(2346),a=n(6033),o=new WeakMap;class s{constructor(e,t){(0,r.Z)(this,o,{writable:!0,value:new Set}),(0,i.Z)(this,"history",[]),this.name=e,this.attrs={},this.roundingMethod="function"===typeof t?t:Math.floor}update(e){let{value:t,entries:n=[],attrs:i={}}=e;if(t<0)return;const r={value:this.roundingMethod(t),name:this.name,entries:n,attrs:i};this.history.push(r),(0,a.Z)(this,o).forEach((e=>{try{e(this.current)}catch(t){}}))}get current(){return this.history[this.history.length-1]||{value:void 0,name:this.name,entries:[],attrs:{}}}get isValid(){return this.current.value>=0}subscribe(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("function"===typeof e)return(0,a.Z)(this,o).add(e),this.isValid&&t&&this.history.forEach((t=>{e(t)})),()=>{(0,a.Z)(this,o).delete(e)}}}},3290:(e,t,n)=>{n.r(t),n.d(t,{Aggregate:()=>y});var i=n(4572),r=n(3980),a=n(7309),o=n(8038),s=n(8958),u=n(2041),c=n(5509),f=n(9025),d=n(9700);function l(e){const t=[],n=(0,d.fP)();try{Object.keys(n.initializedAgents[e].features).forEach((e=>{switch(e){case f.D.ajax:t.push("xhr");break;case f.D.jserrors:t.push("err");break;case f.D.pageAction:t.push("ins");break;case f.D.sessionTrace:t.push("stn");break;case f.D.spa:t.push("spa")}}))}catch(i){}return t}var p=n(9255),h=n(1760),m=n(1527),v=n(7911),g=n(6550),T=n(3919);class y extends m.m{constructor(e,t){super(e,t,c.t),this.timeToFirstByte=0,this.firstByteToWindowLoad=0,this.firstByteToDomContent=0,r.il?T.P.subscribe((e=>{let{value:t,entries:n}=e;const i=n[0];this.timeToFirstByte=Math.max(t,this.timeToFirstByte),this.firstByteToWindowLoad=Math.max(Math.round(i.loadEventEnd-this.timeToFirstByte),this.firstByteToWindowLoad),this.firstByteToDomContent=Math.max(Math.round(i.domContentLoadedEventEnd-this.timeToFirstByte),this.firstByteToDomContent),this.sendRum()})):this.sendRum()}sendRum(){const e=(0,s.C5)(this.agentIdentifier),t=(0,s.OP)(this.agentIdentifier),n=new u.M(this);if(!e.beacon)return;e.queueTime&&this.aggregator.store("measures","qt",{value:e.queueTime}),e.applicationTime&&this.aggregator.store("measures","ap",{value:e.applicationTime}),this.aggregator.store("measures","be",{value:this.timeToFirstByte}),this.aggregator.store("measures","fe",{value:this.firstByteToWindowLoad}),this.aggregator.store("measures","dc",{value:this.firstByteToDomContent});const i={tt:e.ttGuid,us:e.user,ac:e.account,pr:e.product,af:l(this.agentIdentifier).join(","),...Object.entries(this.aggregator.get("measures")||{}).reduce(((e,t)=>{var n;let[i,r]=t;return e[i]=null===(n=r.params)||void 0===n?void 0:n.value,e}),{}),xx:e.extra,ua:e.userAttributes,at:e.atts};let c;if(t.session&&(i.fsh=Number(t.session.isNew)),"object"===typeof e.jsAttributes&&Object.keys(e.jsAttributes).length>0&&(c={ja:e.jsAttributes}),r._A.performance)if("undefined"!==typeof PerformanceNavigationTiming){var f;const e=null===r._A||void 0===r._A||null===(f=r._A.performance)||void 0===f||null===(f=f.getEntriesByType("navigation"))||void 0===f?void 0:f[0],n={timing:(0,a.wu)(t.offset,e,{}),navigation:(0,a.uB)(e,{})};i.perf=(0,o.P)(n)}else if("undefined"!==typeof PerformanceTiming){const e={timing:(0,a.wu)(t.offset,r._A.performance.timing,{},!0),navigation:(0,a.uB)(r._A.performance.navigation,{})};i.perf=(0,o.P)(e)}i.fp=g.U.current.value,i.fcp=v.y.current.value,n.send({endpoint:"rum",payload:{qs:i,body:c},opts:{needResponse:!0,sendEmptyBody:!0},cbFinished:e=>{let{status:t,responseText:n}=e;if(t>=400)this.ee.abort();else try{(0,p.N)(JSON.parse(n),this.agentIdentifier),this.drain()}catch(i){this.ee.abort(),(0,h.Z)("RUM call failed. Agent shutting down.")}}})}}(0,i.Z)(y,"featureName",c.t)},1682:(e,t,n)=>{n.d(t,{Fu:()=>R,NO:()=>Q,Yn:()=>J,a4:()=>I,mr:()=>te,mw:()=>_});var i,r,a,o,s,u=-1,c=function(e){addEventListener("pageshow",(function(t){t.persisted&&(u=t.timeStamp,e(t))}),!0)},f=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},d=function(){var e=f();return e&&e.activationStart||0},l=function(e,t){var n=f(),i="navigate";return u>=0?i="back-forward-cache":n&&(document.prerendering||d()>0?i="prerender":document.wasDiscarded?i="restore":n.type&&(i=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},p=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var i=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return i.observe(Object.assign({type:e,buffered:!0},n||{})),i}}catch(e){}},h=function(e,t,n,i){var r,a;return function(o){t.value>=0&&(o||i)&&((a=t.value-(r||0))||void 0===r)&&(r=t.value,t.delta=a,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},m=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},v=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},g=function(e){var t=!1;return function(n){t||(e(n),t=!0)}},T=-1,y=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},E=function(e){"hidden"===document.visibilityState&&T>-1&&(T="visibilitychange"===e.type?e.timeStamp:0,A())},b=function(){addEventListener("visibilitychange",E,!0),addEventListener("prerenderingchange",E,!0)},A=function(){removeEventListener("visibilitychange",E,!0),removeEventListener("prerenderingchange",E,!0)},w=function(){return T<0&&(T=y(),b(),c((function(){setTimeout((function(){T=y(),b()}),0)}))),{get firstHiddenTime(){return T}}},S=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},C=[1800,3e3],I=function(e,t){t=t||{},S((function(){var n,i=w(),r=l("FCP"),a=p("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(a.disconnect(),e.startTime<i.firstHiddenTime&&(r.value=Math.max(e.startTime-d(),0),r.entries.push(e),n(!0)))}))}));a&&(n=h(e,r,C,t.reportAllChanges),c((function(i){r=l("FCP"),n=h(e,r,C,t.reportAllChanges),m((function(){r.value=performance.now()-i.timeStamp,n(!0)}))})))}))},L=[.1,.25],_=function(e,t){t=t||{},I(g((function(){var n,i=l("CLS",0),r=0,a=[],o=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=a[0],n=a[a.length-1];r&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(r+=e.value,a.push(e)):(r=e.value,a=[e])}})),r>i.value&&(i.value=r,i.entries=a,n())},s=p("layout-shift",o);s&&(n=h(e,i,L,t.reportAllChanges),v((function(){o(s.takeRecords()),n(!0)})),c((function(){r=0,i=l("CLS",0),n=h(e,i,L,t.reportAllChanges),m((function(){return n()}))})),setTimeout(n,0))})))},P={passive:!0,capture:!0},M=new Date,F=function(e,t){i||(i=t,r=e,a=new Date,k(removeEventListener),N())},N=function(){if(r>=0&&r<a-M){var e={entryType:"first-input",name:i.type,target:i.target,cancelable:i.cancelable,startTime:i.timeStamp,processingStart:i.timeStamp+r};o.forEach((function(t){t(e)})),o=[]}},B=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){F(e,t),r()},i=function(){r()},r=function(){removeEventListener("pointerup",n,P),removeEventListener("pointercancel",i,P)};addEventListener("pointerup",n,P),addEventListener("pointercancel",i,P)}(t,e):F(t,e)}},k=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,B,P)}))},O=[100,300],R=function(e,t){t=t||{},S((function(){var n,a=w(),s=l("FID"),u=function(e){e.startTime<a.firstHiddenTime&&(s.value=e.processingStart-e.startTime,s.entries.push(e),n(!0))},f=function(e){e.forEach(u)},d=p("first-input",f);n=h(e,s,O,t.reportAllChanges),d&&v(g((function(){f(d.takeRecords()),d.disconnect()}))),d&&c((function(){var a;s=l("FID"),n=h(e,s,O,t.reportAllChanges),o=[],r=-1,i=null,k(addEventListener),a=u,o.push(a),N()}))}))},x=0,D=1/0,U=0,j=function(e){e.forEach((function(e){e.interactionId&&(D=Math.min(D,e.interactionId),U=Math.max(U,e.interactionId),x=U?(U-D)/7+1:0)}))},q=function(){return s?x:performance.interactionCount||0},V=function(){"interactionCount"in performance||s||(s=p("event",j,{type:"event",buffered:!0,durationThreshold:0}))},Z=[200,500],H=0,W=function(){return q()-H},Y=[],G={},z=function(e){var t=Y[Y.length-1],n=G[e.interactionId];if(n||Y.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{var i={id:e.interactionId,latency:e.duration,entries:[e]};G[i.id]=i,Y.push(i)}Y.sort((function(e,t){return t.latency-e.latency})),Y.splice(10).forEach((function(e){delete G[e.id]}))}},J=function(e,t){t=t||{},S((function(){var n;V();var i,r=l("INP"),a=function(e){e.forEach((function(e){e.interactionId&&z(e),"first-input"===e.entryType&&!Y.some((function(t){return t.entries.some((function(t){return e.duration===t.duration&&e.startTime===t.startTime}))}))&&z(e)}));var t,n=(t=Math.min(Y.length-1,Math.floor(W()/50)),Y[t]);n&&n.latency!==r.value&&(r.value=n.latency,r.entries=n.entries,i())},o=p("event",a,{durationThreshold:null!==(n=t.durationThreshold)&&void 0!==n?n:40});i=h(e,r,Z,t.reportAllChanges),o&&("PerformanceEventTiming"in window&&"interactionId"in PerformanceEventTiming.prototype&&o.observe({type:"first-input",buffered:!0}),v((function(){a(o.takeRecords()),r.value<0&&W()>0&&(r.value=0,r.entries=[]),i(!0)})),c((function(){Y=[],H=q(),r=l("INP"),i=h(e,r,Z,t.reportAllChanges)})))}))},K=[2500,4e3],X={},Q=function(e,t){t=t||{},S((function(){var n,i=w(),r=l("LCP"),a=function(e){var t=e[e.length-1];t&&t.startTime<i.firstHiddenTime&&(r.value=Math.max(t.startTime-d(),0),r.entries=[t],n())},o=p("largest-contentful-paint",a);if(o){n=h(e,r,K,t.reportAllChanges);var s=g((function(){X[r.id]||(a(o.takeRecords()),o.disconnect(),X[r.id]=!0,n(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,(function(){return setTimeout(s,0)}),!0)})),v(s),c((function(i){r=l("LCP"),n=h(e,r,K,t.reportAllChanges),m((function(){r.value=performance.now()-i.timeStamp,X[r.id]=!0,n(!0)}))}))}}))},$=[800,1800],ee=function e(t){document.prerendering?S((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},te=function(e,t){t=t||{};var n=l("TTFB"),i=h(e,n,$,t.reportAllChanges);ee((function(){var r=f();if(r){var a=r.responseStart;if(a<=0||a>performance.now())return;n.value=Math.max(a-d(),0),n.entries=[r],i(!0),c((function(){n=l("TTFB",0),(i=h(e,n,$,t.reportAllChanges))(!0)}))}}))}}}]);
//# sourceMappingURL=page_view_event-aggregate.34f58569.chunk.js.map