"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[348],{7661:(e,t,n)=>{n.d(t,{o:()=>u});var i=n(3197),r=n(3114),a=n(2041),s=n(8464),o=n(2162);class u extends r.w{constructor(e,t,n){var i;super(n),this.endpoint=e,this.opts=t||{},this.started=!1,this.timeoutHandle=null,this.aborted=!1,this.harvest=new a.M(this.sharedContext),(0,s.L)(this.unload.bind(this)),null===(i=this.sharedContext)||void 0===i||i.ee.on(o.wO.RESET,(()=>this.runHarvest({forceNoRetry:!0})))}unload(){this.aborted||(this.opts.onUnload&&this.opts.onUnload(),this.runHarvest({unload:!0}))}startTimer(e,t){this.interval=e,this.started=!0,this.scheduleHarvest(null!=t?t:this.interval)}stopTimer(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.aborted=e,this.started=!1,this.timeoutHandle&&clearTimeout(this.timeoutHandle)}scheduleHarvest(e,t){this.timeoutHandle||(null==e&&(e=this.interval),this.timeoutHandle=setTimeout((()=>{this.timeoutHandle=null,this.runHarvest(t)}),1e3*e))}runHarvest(e){if(this.aborted)return;const t=t=>{null!==e&&void 0!==e&&e.forceNoRetry&&(t.retry=!1),this.onHarvestFinished(e,t)};let n,r,a=[];if(this.opts.getPayload){if(n=i.qD({isFinalHarvest:null===e||void 0===e?void 0:e.unload}),!n)return!1;const t=!(null!==e&&void 0!==e&&e.unload)&&n===i.Be;if(r=this.opts.getPayload({retry:t}),!r)return void(this.started&&this.scheduleHarvest());r="[object Array]"===Object.prototype.toString.call(r)?r:[r],a.push(...r)}let s=e=>this.harvest.sendX(e);a.length?s=this.opts.raw?e=>this.harvest._send(e):e=>this.harvest.send(e):a.push(void 0),a.forEach((i=>{s({endpoint:this.endpoint,payload:i,opts:e,submitMethod:n,cbFinished:t,customUrl:this.opts.customUrl,raw:this.opts.raw})})),this.started&&this.scheduleHarvest()}onHarvestFinished(e,t){if(this.opts.onFinished&&this.opts.onFinished(t),t.sent&&t.retry){const n=t.delay||this.opts.retryDelay;this.started&&n?(clearTimeout(this.timeoutHandle),this.timeoutHandle=null,this.scheduleHarvest(n,e)):!this.started&&n&&this.scheduleHarvest(n,e)}}}},6313:(e,t,n)=>{n.d(t,{AG:()=>u,FX:()=>d,n1:()=>l,uR:()=>c});var i=n(3973),r=n(8038),a=n(4355),s=Object.prototype.hasOwnProperty,o=64;function u(e,t,n){return e||0===e||""===e?t(e)+(n?",":""):"!"}function c(e,t){return t?Math.floor(e).toString(36):void 0===e||0===e?"":Math.floor(e).toString(36)}function d(e){var t=Object.hasOwnProperty("create")?Object.create(null):{},n=0;return function(i){if("undefined"===typeof i||""===i)return"";var r=new a.RR({agentIdentifier:e});i=String(i),r.shouldObfuscate()&&(i=r.obfuscateString(i));return s.call(t,i)?c(t[i],!0):(t[i]=n++,function(e){return"'"+e.replace(h,"\\$1")}(i))}}function l(e,t){var n=[];return(0,i.D)(e,(function(e,i){if(!(n.length>=o)){var a,s=5;switch(e=t(e),typeof i){case"object":i?a=t((0,r.P)(i)):s=9;break;case"number":s=6,a=i%1?i:i+".";break;case"boolean":s=i?7:8;break;case"undefined":s=9;break;default:a=t(i)}n.push([s,e+(a?","+a:"")])}})),n}var h=/([,\\;])/g},8464:(e,t,n)=>{n.d(t,{L:()=>s});var i=n(1997),r=n(3980),a=n(536);if(r.v6){r._A.cleanupTasks=[];const e=r._A.close;r._A.close=()=>{for(let e of r._A.cleanupTasks)e();e()}}function s(e){r.il?((0,a.N)(e,!0),(0,i.bP)("pagehide",e)):r.v6&&r._A.cleanupTasks.push(e)}},2191:(e,t,n)=>{n.d(t,{S:()=>i});const i={FIRST_PAINT:"fp",FIRST_CONTENTFUL_PAINT:"fcp",FIRST_INPUT_DELAY:"fi",LARGEST_CONTENTFUL_PAINT:"lcp",CUMULATIVE_LAYOUT_SHIFT:"cls",INTERACTION_TO_NEXT_PAINT:"inp",LONG_TASK:"lt",TIME_TO_FIRST_BYTE:"ttfb"}},7911:(e,t,n)=>{n.d(t,{y:()=>s});var i=n(1682),r=n(3980),a=n(2191);const s=new(n(4599).U)(a.S.FIRST_CONTENTFUL_PAINT);if(r.il)if(r.ux)try{if(!r.iS){const e=performance.getEntriesByType("paint");e.forEach((t=>{"first-contentful-paint"===t.name&&s.update({value:Math.floor(t.startTime),entries:e})}))}}catch(o){}else(0,i.a4)((e=>{let{value:t,entries:n}=e;r.iS||s.isValid||s.update({value:t,entries:n})}))},6550:(e,t,n)=>{n.d(t,{U:()=>a});var i=n(3980),r=n(2191);const a=new(n(4599).U)(r.S.FIRST_PAINT);if(i.il){const e=e=>{e.forEach((n=>{"first-paint"!==n.name||a.isValid||(t.disconnect(),a.update({value:n.startTime,entries:e}))}))};let t;try{PerformanceObserver.supportedEntryTypes.includes("paint")&&!i.iS&&(t=new PerformanceObserver((t=>{Promise.resolve().then((()=>{e(t.getEntries())}))})),t.observe({type:"paint",buffered:!0}))}catch(s){}}},3919:(e,t,n)=>{n.d(t,{P:()=>o});var i=n(3980),r=n(2191),a=n(4599),s=n(1682);const o=new a.U(r.S.TIME_TO_FIRST_BYTE);if(i.il&&"undefined"!==typeof PerformanceNavigationTiming&&!i.Tt)(0,s.mr)((e=>{let{value:t,entries:n}=e;o.isValid||o.update({value:t,entries:n})}));else if(!o.isValid){const e={};for(let t in(null===i._A||void 0===i._A||null===(u=i._A.performance)||void 0===u?void 0:u.timing)||{}){var u,c;e[t]=Math.max((null===i._A||void 0===i._A||null===(c=i._A.performance)||void 0===c?void 0:c.timing[t])-i.cv,0)}o.update({value:e.responseStart,entries:[e]})}},4599:(e,t,n)=>{n.d(t,{U:()=>o});var i=n(4572),r=n(2346),a=n(6033),s=new WeakMap;class o{constructor(e,t){(0,r.Z)(this,s,{writable:!0,value:new Set}),(0,i.Z)(this,"history",[]),this.name=e,this.attrs={},this.roundingMethod="function"===typeof t?t:Math.floor}update(e){let{value:t,entries:n=[],attrs:i={}}=e;if(t<0)return;const r={value:this.roundingMethod(t),name:this.name,entries:n,attrs:i};this.history.push(r),(0,a.Z)(this,s).forEach((e=>{try{e(this.current)}catch(t){}}))}get current(){return this.history[this.history.length-1]||{value:void 0,name:this.name,entries:[],attrs:{}}}get isValid(){return this.current.value>=0}subscribe(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("function"===typeof e)return(0,a.Z)(this,s).add(e),this.isValid&&t&&this.history.forEach((t=>{e(t)})),()=>{(0,a.Z)(this,s).delete(e)}}}},6875:(e,t,n)=>{n.r(t),n.d(t,{Aggregate:()=>L});var i=n(2346),r=n(4572),a=n(6033),s=n(6313),o=n(3973),u=n(7661),c=n(4613),d=n(5894),l=n(8958),h=n(430),f=n(9025),v=n(1527),p=n(1682),m=n(2191),g=n(4599),T=n(3980);const y=new g.U(m.S.CUMULATIVE_LAYOUT_SHIFT,(e=>e));T.il&&(0,p.mw)((e=>{let{value:t,entries:n}=e;y.roundingMethod(t)!==y.current.value&&y.update({value:t,entries:n})}),{reportAllChanges:!0});var b=n(7911);const S=new g.U(m.S.FIRST_INPUT_DELAY);T.il&&(0,p.Fu)((e=>{let{value:t,entries:n}=e;T.iS||S.isValid||0===n.length||S.update({value:n[0].startTime,entries:n,attrs:{type:n[0].name,fid:Math.round(t)}})}));var E=n(6550);const w=new g.U(m.S.INTERACTION_TO_NEXT_PAINT);T.il&&(0,p.Yn)((e=>{let{value:t,entries:n,id:i}=e;w.update({value:t,entries:n,attrs:{metricId:i}})}));var A=n(8575);const _=new g.U(m.S.LARGEST_CONTENTFUL_PAINT);T.il&&(0,p.NO)((e=>{var t;let{value:n,entries:i}=e;if(T.iS||_.isValid)return;const r=i[i.length-1];_.update({value:n,entries:i,...i.length>0&&{attrs:{size:r.size,eid:r.id,...!!r.url&&{elUrl:(0,A.f)(r.url)},...!(null===(t=r.element)||void 0===t||!t.tagName)&&{elTag:r.element.tagName}}}})}));var I=n(3919),C=n(8464);const N=new g.U(m.S.LONG_TASK);if(T.il){const e=e=>{e.forEach((e=>{N.update({value:e.duration,entries:[e],attrs:{ltFrame:e.name,ltStart:e.startTime,ltCtr:e.attribution[0].containerType,..."window"!==e.attribution[0].containerType&&{ltCtrSrc:e.attribution[0].containerSrc,ltCtrId:e.attribution[0].containerId,ltCtrName:e.attribution[0].containerName}}})}))};let t;try{PerformanceObserver.supportedEntryTypes.includes("longtask")&&(t=new PerformanceObserver((t=>{Promise.resolve().then((()=>{e(t.getEntries())}))})),t.observe({type:"longtask",buffered:!0}))}catch(F){}t&&(0,C.L)((()=>{e(t.takeRecords())}),!0)}var P=new WeakMap;class L extends v.m{constructor(e,t){var n;super(e,t,h.t),(0,i.Z)(this,P,{writable:!0,value:e=>{let{name:t,value:n,attrs:i}=e;this.addTiming(t,n,i)}}),n=this,this.timings=[],this.timingsSent=[],this.curSessEndRecorded=!1,E.U.subscribe((0,a.Z)(this,P)),b.y.subscribe((0,a.Z)(this,P)),S.subscribe((0,a.Z)(this,P)),_.subscribe((0,a.Z)(this,P)),w.subscribe((0,a.Z)(this,P)),I.P.subscribe((e=>{let{entries:t}=e;this.addTiming("load",Math.round(t[0].loadEventEnd))})),!0===(0,l.Mt)(this.agentIdentifier,"page_view_timing.long_task")&&N.subscribe((0,a.Z)(this,P)),(0,c.X)("docHidden",(e=>this.endCurrentSession(e)),this.featureName,this.ee),(0,c.X)("winPagehide",(e=>this.recordPageUnload(e)),this.featureName,this.ee);const r=(0,l.Mt)(this.agentIdentifier,"page_view_timing.initialHarvestSeconds")||10,s=(0,l.Mt)(this.agentIdentifier,"page_view_timing.harvestTimeSeconds")||30;this.ee.on("drain-".concat(this.featureName),(()=>{this.scheduler=new u.o("events",{onFinished:function(){return n.onHarvestFinished(...arguments)},getPayload:function(){return n.prepareHarvest(...arguments)}},this),this.scheduler.startTimer(s,r)})),this.drain()}endCurrentSession(e){this.curSessEndRecorded||(this.addTiming("pageHide",e,null),this.curSessEndRecorded=!0)}recordPageUnload(e){this.addTiming("unload",e,null),this.endCurrentSession(e)}addTiming(e,t,n){(function(e){var t=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(!t)return;t.type&&(e["net-type"]=t.type);t.effectiveType&&(e["net-etype"]=t.effectiveType);t.rtt&&(e["net-rtt"]=t.rtt);t.downlink&&(e["net-dlink"]=t.downlink)})(n=n||{}),y.current.value>=0&&(n.cls=y.current.value),this.timings.push({name:e,value:t,attrs:n}),(0,d.p)("pvtAdded",[e,t,n],void 0,f.D.sessionTrace,this.ee)}onHarvestFinished(e){e.retry&&this.timingsSent.length>0&&(this.timings.unshift(...this.timingsSent),this.timingsSent=[])}appendGlobalCustomAttributes(e){var t=e.attrs||{},n=(0,l.C5)(this.agentIdentifier).jsAttributes||{},i=["size","eid","cls","type","fid","elTag","elUrl","net-type","net-etype","net-rtt","net-dlink"];(0,o.D)(n,(function(e,n){i.indexOf(e)<0&&(t[e]=n)}))}prepareHarvest(e){if(0!==this.timings.length){var t=this.getPayload(this.timings);if(e.retry)for(var n=0;n<this.timings.length;n++)this.timingsSent.push(this.timings[n]);return this.timings=[],{body:{e:t}}}}getPayload(e){for(var t=(0,s.FX)(this.agentIdentifier),n="bel.6;",i=0;i<e.length;i++){var r=e[i];n+="e,",n+=t(r.name)+",",n+=(0,s.AG)(r.value,s.uR,!1)+",",this.appendGlobalCustomAttributes(r);var a=(0,s.n1)(r.attrs,t);a&&a.length>0&&(n+=(0,s.uR)(a.length)+";"+a.join(";")),i+1<e.length&&(n+=";")}return n}}(0,r.Z)(L,"featureName",h.t)},1682:(e,t,n)=>{n.d(t,{Fu:()=>k,NO:()=>J,Yn:()=>K,a4:()=>I,mr:()=>te,mw:()=>N});var i,r,a,s,o,u=-1,c=function(e){addEventListener("pageshow",(function(t){t.persisted&&(u=t.timeStamp,e(t))}),!0)},d=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},l=function(){var e=d();return e&&e.activationStart||0},h=function(e,t){var n=d(),i="navigate";return u>=0?i="back-forward-cache":n&&(document.prerendering||l()>0?i="prerender":document.wasDiscarded?i="restore":n.type&&(i=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},f=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var i=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return i.observe(Object.assign({type:e,buffered:!0},n||{})),i}}catch(e){}},v=function(e,t,n,i){var r,a;return function(s){t.value>=0&&(s||i)&&((a=t.value-(r||0))||void 0===r)&&(r=t.value,t.delta=a,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},p=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},m=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},g=function(e){var t=!1;return function(n){t||(e(n),t=!0)}},T=-1,y=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},b=function(e){"hidden"===document.visibilityState&&T>-1&&(T="visibilitychange"===e.type?e.timeStamp:0,E())},S=function(){addEventListener("visibilitychange",b,!0),addEventListener("prerenderingchange",b,!0)},E=function(){removeEventListener("visibilitychange",b,!0),removeEventListener("prerenderingchange",b,!0)},w=function(){return T<0&&(T=y(),S(),c((function(){setTimeout((function(){T=y(),S()}),0)}))),{get firstHiddenTime(){return T}}},A=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},_=[1800,3e3],I=function(e,t){t=t||{},A((function(){var n,i=w(),r=h("FCP"),a=f("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(a.disconnect(),e.startTime<i.firstHiddenTime&&(r.value=Math.max(e.startTime-l(),0),r.entries.push(e),n(!0)))}))}));a&&(n=v(e,r,_,t.reportAllChanges),c((function(i){r=h("FCP"),n=v(e,r,_,t.reportAllChanges),p((function(){r.value=performance.now()-i.timeStamp,n(!0)}))})))}))},C=[.1,.25],N=function(e,t){t=t||{},I(g((function(){var n,i=h("CLS",0),r=0,a=[],s=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=a[0],n=a[a.length-1];r&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(r+=e.value,a.push(e)):(r=e.value,a=[e])}})),r>i.value&&(i.value=r,i.entries=a,n())},o=f("layout-shift",s);o&&(n=v(e,i,C,t.reportAllChanges),m((function(){s(o.takeRecords()),n(!0)})),c((function(){r=0,i=h("CLS",0),n=v(e,i,C,t.reportAllChanges),p((function(){return n()}))})),setTimeout(n,0))})))},P={passive:!0,capture:!0},L=new Date,F=function(e,t){i||(i=t,r=e,a=new Date,M(removeEventListener),H())},H=function(){if(r>=0&&r<a-L){var e={entryType:"first-input",name:i.type,target:i.target,cancelable:i.cancelable,startTime:i.timeStamp,processingStart:i.timeStamp+r};s.forEach((function(t){t(e)})),s=[]}},O=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){F(e,t),r()},i=function(){r()},r=function(){removeEventListener("pointerup",n,P),removeEventListener("pointercancel",i,P)};addEventListener("pointerup",n,P),addEventListener("pointercancel",i,P)}(t,e):F(t,e)}},M=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,O,P)}))},U=[100,300],k=function(e,t){t=t||{},A((function(){var n,a=w(),o=h("FID"),u=function(e){e.startTime<a.firstHiddenTime&&(o.value=e.processingStart-e.startTime,o.entries.push(e),n(!0))},d=function(e){e.forEach(u)},l=f("first-input",d);n=v(e,o,U,t.reportAllChanges),l&&m(g((function(){d(l.takeRecords()),l.disconnect()}))),l&&c((function(){var a;o=h("FID"),n=v(e,o,U,t.reportAllChanges),s=[],r=-1,i=null,M(addEventListener),a=u,s.push(a),H()}))}))},R=0,D=1/0,Z=0,x=function(e){e.forEach((function(e){e.interactionId&&(D=Math.min(D,e.interactionId),Z=Math.max(Z,e.interactionId),R=Z?(Z-D)/7+1:0)}))},V=function(){return o?R:performance.interactionCount||0},j=function(){"interactionCount"in performance||o||(o=f("event",x,{type:"event",buffered:!0,durationThreshold:0}))},B=[200,500],G=0,Y=function(){return V()-G},X=[],z={},q=function(e){var t=X[X.length-1],n=z[e.interactionId];if(n||X.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{var i={id:e.interactionId,latency:e.duration,entries:[e]};z[i.id]=i,X.push(i)}X.sort((function(e,t){return t.latency-e.latency})),X.splice(10).forEach((function(e){delete z[e.id]}))}},K=function(e,t){t=t||{},A((function(){var n;j();var i,r=h("INP"),a=function(e){e.forEach((function(e){e.interactionId&&q(e),"first-input"===e.entryType&&!X.some((function(t){return t.entries.some((function(t){return e.duration===t.duration&&e.startTime===t.startTime}))}))&&q(e)}));var t,n=(t=Math.min(X.length-1,Math.floor(Y()/50)),X[t]);n&&n.latency!==r.value&&(r.value=n.latency,r.entries=n.entries,i())},s=f("event",a,{durationThreshold:null!==(n=t.durationThreshold)&&void 0!==n?n:40});i=v(e,r,B,t.reportAllChanges),s&&("PerformanceEventTiming"in window&&"interactionId"in PerformanceEventTiming.prototype&&s.observe({type:"first-input",buffered:!0}),m((function(){a(s.takeRecords()),r.value<0&&Y()>0&&(r.value=0,r.entries=[]),i(!0)})),c((function(){X=[],G=V(),r=h("INP"),i=v(e,r,B,t.reportAllChanges)})))}))},W=[2500,4e3],$={},J=function(e,t){t=t||{},A((function(){var n,i=w(),r=h("LCP"),a=function(e){var t=e[e.length-1];t&&t.startTime<i.firstHiddenTime&&(r.value=Math.max(t.startTime-l(),0),r.entries=[t],n())},s=f("largest-contentful-paint",a);if(s){n=v(e,r,W,t.reportAllChanges);var o=g((function(){$[r.id]||(a(s.takeRecords()),s.disconnect(),$[r.id]=!0,n(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,(function(){return setTimeout(o,0)}),!0)})),m(o),c((function(i){r=h("LCP"),n=v(e,r,W,t.reportAllChanges),p((function(){r.value=performance.now()-i.timeStamp,$[r.id]=!0,n(!0)}))}))}}))},Q=[800,1800],ee=function e(t){document.prerendering?A((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},te=function(e,t){t=t||{};var n=h("TTFB"),i=v(e,n,Q,t.reportAllChanges);ee((function(){var r=d();if(r){var a=r.responseStart;if(a<=0||a>performance.now())return;n.value=Math.max(a-l(),0),n.entries=[r],i(!0),c((function(){n=h("TTFB",0),(i=v(e,n,Q,t.reportAllChanges))(!0)}))}}))}}}]);
//# sourceMappingURL=page_view_timing-aggregate.b311781a.chunk.js.map