"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[873],{3620:(t,e,n)=>{n.d(e,{R:()=>a,z:()=>r});var i=[];function r(t){if(0===i.length)return!0;if(void 0===t.hostname)return!1;for(var e=0;e<i.length;e++){var n=i[e];if("*"===n.hostname)return!1;if(s(n.hostname,t.hostname)&&o(n.pathname,t.pathname))return!1}return!0}function a(t){if(i=[],t&&t.length)for(var e=0;e<t.length;e++){let n=t[e];if(!n)continue;0===n.indexOf("http://")?n=n.substring(7):0===n.indexOf("https://")&&(n=n.substring(8));const r=n.indexOf("/");let a,s;r>0?(a=n.substring(0,r),s=n.substring(r)):(a=n,s="");let[o]=a.split(":");i.push({hostname:o,pathname:s})}}function s(t,e){return!(t.length>e.length)&&e.indexOf(t)===e.length-t.length}function o(t,e){return 0===t.indexOf("/")&&(t=t.substring(1)),0===e.indexOf("/")&&(e=e.substring(1)),""===t||t===e}},7661:(t,e,n)=>{n.d(e,{o:()=>u});var i=n(3197),r=n(3114),a=n(2041),s=n(8464),o=n(2162);class u extends r.w{constructor(t,e,n){var i;super(n),this.endpoint=t,this.opts=e||{},this.started=!1,this.timeoutHandle=null,this.aborted=!1,this.harvest=new a.M(this.sharedContext),(0,s.L)(this.unload.bind(this)),null===(i=this.sharedContext)||void 0===i||i.ee.on(o.wO.RESET,(()=>this.runHarvest({forceNoRetry:!0})))}unload(){this.aborted||(this.opts.onUnload&&this.opts.onUnload(),this.runHarvest({unload:!0}))}startTimer(t,e){this.interval=t,this.started=!0,this.scheduleHarvest(null!=e?e:this.interval)}stopTimer(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.aborted=t,this.started=!1,this.timeoutHandle&&clearTimeout(this.timeoutHandle)}scheduleHarvest(t,e){this.timeoutHandle||(null==t&&(t=this.interval),this.timeoutHandle=setTimeout((()=>{this.timeoutHandle=null,this.runHarvest(e)}),1e3*t))}runHarvest(t){if(this.aborted)return;const e=e=>{null!==t&&void 0!==t&&t.forceNoRetry&&(e.retry=!1),this.onHarvestFinished(t,e)};let n,r,a=[];if(this.opts.getPayload){if(n=i.qD({isFinalHarvest:null===t||void 0===t?void 0:t.unload}),!n)return!1;const e=!(null!==t&&void 0!==t&&t.unload)&&n===i.Be;if(r=this.opts.getPayload({retry:e}),!r)return void(this.started&&this.scheduleHarvest());r="[object Array]"===Object.prototype.toString.call(r)?r:[r],a.push(...r)}let s=t=>this.harvest.sendX(t);a.length?s=this.opts.raw?t=>this.harvest._send(t):t=>this.harvest.send(t):a.push(void 0),a.forEach((i=>{s({endpoint:this.endpoint,payload:i,opts:t,submitMethod:n,cbFinished:e,customUrl:this.opts.customUrl,raw:this.opts.raw})})),this.started&&this.scheduleHarvest()}onHarvestFinished(t,e){if(this.opts.onFinished&&this.opts.onFinished(e),e.sent&&e.retry){const n=e.delay||this.opts.retryDelay;this.started&&n?(clearTimeout(this.timeoutHandle),this.timeoutHandle=null,this.scheduleHarvest(n,t)):!this.started&&n&&this.scheduleHarvest(n,t)}}}},6313:(t,e,n)=>{n.d(e,{AG:()=>u,FX:()=>d,n1:()=>h,uR:()=>c});var i=n(3973),r=n(8038),a=n(4355),s=Object.prototype.hasOwnProperty,o=64;function u(t,e,n){return t||0===t||""===t?e(t)+(n?",":""):"!"}function c(t,e){return e?Math.floor(t).toString(36):void 0===t||0===t?"":Math.floor(t).toString(36)}function d(t){var e=Object.hasOwnProperty("create")?Object.create(null):{},n=0;return function(i){if("undefined"===typeof i||""===i)return"";var r=new a.RR({agentIdentifier:t});i=String(i),r.shouldObfuscate()&&(i=r.obfuscateString(i));return s.call(e,i)?c(e[i],!0):(e[i]=n++,function(t){return"'"+t.replace(l,"\\$1")}(i))}}function h(t,e){var n=[];return(0,i.D)(t,(function(t,i){if(!(n.length>=o)){var a,s=5;switch(t=e(t),typeof i){case"object":i?a=e((0,r.P)(i)):s=9;break;case"number":s=6,a=i%1?i:i+".";break;case"boolean":s=i?7:8;break;case"undefined":s=9;break;default:a=e(i)}n.push([s,t+(a?","+a:"")])}})),n}var l=/([,\\;])/g},7309:(t,e,n)=>{n.d(e,{uB:()=>m,wu:()=>v,zJ:()=>f});var i="Start",r="End",a="unloadEvent",s="redirect",o="domainLookup",u="onnect",c="request",d="response",h="loadEvent",l="domContentLoadedEvent",f=[];function v(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},f=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e)return n.of=t,p(n.of,n,"n",!0),p(e[a+i],n,"u",f),p(e[s+i],n,"r",f),p(e[a+r],n,"ue",f),p(e[s+r],n,"re",f),p(e["fetch"+i],n,"f",f),p(e[o+i],n,"dn",f),p(e[o+r],n,"dne",f),p(e["c"+u+i],n,"c",f),p(e["secureC"+u+"ion"+i],n,"s",f),p(e["c"+u+r],n,"ce",f),p(e[c+i],n,"rq",f),p(e[d+i],n,"rp",f),p(e[d+r],n,"rpe",f),p(e.domLoading,n,"dl",f),p(e.domInteractive,n,"di",f),p(e[l+i],n,"ds",f),p(e[l+r],n,"de",f),p(e.domComplete,n,"dc",f),p(e[h+i],n,"l",f),p(e[h+r],n,"le",f),n}function m(t,e){var n;return p("number"===typeof(n=t.type)?n:{navigate:void 0,reload:1,back_forward:2,prerender:3}[n],e,"ty"),p(t.redirectCount,e,"rc"),e}function p(t,e,n,i){if("number"===typeof t&&t>0){if(i){const n=(null===e||void 0===e?void 0:e.of)>0?e.of:0;t=Math.max(t-n,0)}t=Math.round(t),e[n]=t}f.push(t)}},8464:(t,e,n)=>{n.d(e,{L:()=>s});var i=n(1997),r=n(3980),a=n(536);if(r.v6){r._A.cleanupTasks=[];const t=r._A.close;r._A.close=()=>{for(let t of r._A.cleanupTasks)t();t()}}function s(t){r.il?((0,a.N)(t,!0),(0,i.bP)("pagehide",t)):r.v6&&r._A.cleanupTasks.push(t)}},2191:(t,e,n)=>{n.d(e,{S:()=>i});const i={FIRST_PAINT:"fp",FIRST_CONTENTFUL_PAINT:"fcp",FIRST_INPUT_DELAY:"fi",LARGEST_CONTENTFUL_PAINT:"lcp",CUMULATIVE_LAYOUT_SHIFT:"cls",INTERACTION_TO_NEXT_PAINT:"inp",LONG_TASK:"lt",TIME_TO_FIRST_BYTE:"ttfb"}},7911:(t,e,n)=>{n.d(e,{y:()=>s});var i=n(1682),r=n(3980),a=n(2191);const s=new(n(4599).U)(a.S.FIRST_CONTENTFUL_PAINT);if(r.il)if(r.ux)try{if(!r.iS){const t=performance.getEntriesByType("paint");t.forEach((e=>{"first-contentful-paint"===e.name&&s.update({value:Math.floor(e.startTime),entries:t})}))}}catch(o){}else(0,i.a4)((t=>{let{value:e,entries:n}=t;r.iS||s.isValid||s.update({value:e,entries:n})}))},6550:(t,e,n)=>{n.d(e,{U:()=>a});var i=n(3980),r=n(2191);const a=new(n(4599).U)(r.S.FIRST_PAINT);if(i.il){const t=t=>{t.forEach((n=>{"first-paint"!==n.name||a.isValid||(e.disconnect(),a.update({value:n.startTime,entries:t}))}))};let e;try{PerformanceObserver.supportedEntryTypes.includes("paint")&&!i.iS&&(e=new PerformanceObserver((e=>{Promise.resolve().then((()=>{t(e.getEntries())}))})),e.observe({type:"paint",buffered:!0}))}catch(s){}}},4599:(t,e,n)=>{n.d(e,{U:()=>o});var i=n(4572),r=n(2346),a=n(6033),s=new WeakMap;class o{constructor(t,e){(0,r.Z)(this,s,{writable:!0,value:new Set}),(0,i.Z)(this,"history",[]),this.name=t,this.attrs={},this.roundingMethod="function"===typeof e?e:Math.floor}update(t){let{value:e,entries:n=[],attrs:i={}}=t;if(e<0)return;const r={value:this.roundingMethod(e),name:this.name,entries:n,attrs:i};this.history.push(r),(0,a.Z)(this,s).forEach((t=>{try{t(this.current)}catch(e){}}))}get current(){return this.history[this.history.length-1]||{value:void 0,name:this.name,entries:[],attrs:{}}}get isValid(){return this.current.value>=0}subscribe(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("function"===typeof t)return(0,a.Z)(this,s).add(t),this.isValid&&e&&this.history.forEach((e=>{t(e)})),()=>{(0,a.Z)(this,s).delete(t)}}}},7076:(t,e,n)=>{n.r(e),n.d(e,{Aggregate:()=>W});var i=n(4572),r=n(4613),a=n(4522),s=n(3620),o=n(3973),u=n(7309),c=n(662),d=n(8958),h=n(4836),l=0;function f(t,e,n,i){Object.defineProperty(this,"interaction",{value:t,writable:!0}),this.parent=e,this.id=++l,this.type=n,this.children=[],this.end=null,this.jsEnd=this.start=i,this.jsTime=0,this.attrs={},this.cancelled=!1}var v=f.prototype;v.child=function(t,e,n,i){var r=this.interaction;if(r.end||r.nodes>=128)return null;r.onNodeAdded(this);var a=new f(r,this,t,e);return a.attrs.name=n,r.nodes++,i||r.remaining++,a},v.callback=function(t,e){var n=this;n.jsTime+=t,e>n.jsEnd&&(n.jsEnd=e,n.interaction.lastCb=e)},v.cancel=function(){this.cancelled=!0,this.interaction.remaining--},v.finish=function(t){var e=this;if(e.end)return;e.end=t;let n=e.parent;for(;null!==(i=n)&&void 0!==i&&i.cancelled;){var i;n=n.parent}n&&n.children.push(e),e.parent=null;var r=this.interaction;r.remaining--,r.lastFinish=t,r.checkFinish()};var m=d.Yu.ST,p=d.Yu.CT,g={};function N(t,e,n,i,r,a){this.agentIdentifier=a,this.ee=h.ee.get(a),g[a]=0,this.id=++g[a],this.eventName=t,this.nodes=0,this.remaining=0,this.finishTimer=null,this.checkingFinish=!1,this.lastCb=this.lastFinish=e,this.handlers=[],this.onFinished=r,this.done=!1;var s=(this.root=new f(this,null,"interaction",e)).attrs;s.trigger=t,s.initialPageURL=(0,d.OP)(a).origin,s.oldRoute=i,s.newURL=s.oldURL=n,s.custom={},s.store={}}var T=N.prototype;T.checkFinish=function(){var t=this;t.remaining>0?t._resetFinishCheck():t.checkingFinish||null===t.root.end&&(t._resetFinishCheck(),t.checkingFinish=!0,t.finishTimer=m((()=>{t.checkingFinish=!1,t.finishTimer=m((()=>{t.finishTimer=null,t.remaining<=0&&t.finish()}),1)}),0))},T.setNewURL=function(t){this.root.attrs.newURL=t},T.setNewRoute=function(t){this.root.attrs.newRoute=t},T.onNodeAdded=function(){this._resetFinishCheck()},T._resetFinishCheck=function(){this.finishTimer&&(p(this.finishTimer),this.finishTimer=null,this.checkingFinish=!1)},T.finish=function(){var t=this,e=t.root;if(null===e.end){var n=Math.max(t.lastCb,t.lastFinish),i=e.attrs.custom;this.onFinished&&this.onFinished(this),(0,o.D)((0,d.C5)(t.agentIdentifier).jsAttributes,(function(t,e){t in i||(i[t]=e)})),e.end=n,t.ee.emit("interaction",[this])}};var y=n(1997),E=n(7661),S=n(8575),b=n(6313),L=n(3114);class I extends L.w{constructor(t){super(t),this.firstTimestamp=void 0}serializeMultiple(t,e,n){const i=(0,d.C5)(this.sharedContext.agentIdentifier);var r=(0,b.FX)(this.sharedContext.agentIdentifier),a="bel.7";return t.forEach((t=>{a+=";"+this.serializeInteraction(t.root,e,n,t.routeChange,r,i)})),this.firstTimestamp=void 0,a}serializeSingle(t,e,n,i){const r=(0,d.C5)(this.sharedContext.agentIdentifier);var a=(0,b.FX)(this.sharedContext.agentIdentifier),s="bel.7;"+this.serializeInteraction(t,e,n,i,a,r);return this.firstTimestamp=void 0,s}serializeInteraction(t,e,n,i,r,a){e=e||0;var s="initialPageLoad"===t.attrs.trigger,u={interaction:1,ajax:2,customTracer:4},c=!0;const d=(t,h)=>{if("customEnd"===t.type)return h.push([3,(0,b.uR)(t.end-this.firstTimestamp)]);var l=t.type,f=u[l],v=t.start,m=t.children.length,p=0,g=a.atts,N=s&&n.length&&1===f,T=[],y=t.attrs,E=y.metrics,L=y.params,I=a.queueTime,R=a.applicationTime;"undefined"===typeof this.firstTimestamp?(v+=e,this.firstTimestamp=v):v-=this.firstTimestamp;var x=[(0,b.uR)(v),(0,b.uR)(t.end-t.start),(0,b.uR)(t.jsEnd-t.end),(0,b.uR)(t.jsTime)];switch(f){case 1:x[2]=(0,b.uR)(t.jsEnd-this.firstTimestamp),x.push(r(y.trigger),r((0,S.f)(y.initialPageURL,c)),r((0,S.f)(y.oldURL,c)),r((0,S.f)(y.newURL,c)),r(y.customName),s?"":i?1:2,(0,b.AG)(s&&I,b.uR,!0)+(0,b.AG)(s&&R,b.uR,!0)+(0,b.AG)(y.oldRoute,r,!0)+(0,b.AG)(y.newRoute,r,!0)+r(y.id),r(t.id),(0,b.AG)(y.firstPaint,b.uR,!0)+(0,b.AG)(y.firstContentfulPaint,b.uR,!1));var w=(0,b.n1)(y.custom,r);T=T.concat(w),p=w.length,g&&(m++,T.push("a,"+r(g)));break;case 2:if(x.push(r(L.method),(0,b.uR)(L.status),r(L.host),r(L.pathname),(0,b.uR)(E.txSize),(0,b.uR)(E.rxSize),y.isFetch?1:y.isJSONP?2:"",r(t.id),(0,b.AG)(t.dt&&t.dt.spanId,r,!0)+(0,b.AG)(t.dt&&t.dt.traceId,r,!0)+(0,b.AG)(t.dt&&t.dt.timestamp,b.uR,!1)),Object.keys((null===L||void 0===L?void 0:L.gql)||{}).length){var C=(0,b.n1)(L.gql,r);T=T.concat(C),p=C.length}break;case 4:var F=y.tracedTime;x.push(r(y.name),(0,b.AG)(F,b.uR,!0)+r(t.id))}for(var P=0;P<t.children.length;P++)d(t.children[P],T);if(x.unshift((0,b.uR)(f),(0,b.uR)(m+=p)),h.push(x),m&&h.push(T.join(";")),N){var A=",",_="b",O=0;(0,o.D)(n.slice(1,21),(function(t,e){void 0!==e?(_+=A+(0,b.uR)(e-O),A=",",O=e):(_+=A+"!",A="")})),h.push(_)}else 1===f&&h.push("");return h};return d(t,[]).join(";")}}var R=n(8736),x=n(9025),w=n(1527),C=n(7911),F=n(6550),P=n(5596),A=n(3980),_=n(5894),O=n(6477);const{FEATURE_NAME:k,INTERACTION_EVENTS:X,MAX_TIMER_BUDGET:H,FN_START:M,FN_END:U,CB_START:j,INTERACTION_API:D,REMAINING:z,INTERACTION:B,SPA_NODE:G,JSONP_NODE:q,FETCH_START:Y,FETCH_DONE:J,FETCH_BODY:V,JSONP_END:Z,originalSetTimeout:$}=R;class W extends w.m{constructor(t,e){super(t,e,k),this.state={initialPageURL:(0,d.OP)(t).origin,lastSeenUrl:(0,d.OP)(t).origin,lastSeenRouteName:null,timerMap:{},timerBudget:H,currentNode:null,prevNode:null,nodeOnLastHashUpdate:null,initialPageLoad:null,pageLoaded:!1,childTime:0,depth:0,harvestTimeSeconds:(0,d.Mt)(t,"spa.harvestTimeSeconds")||10,interactionsToHarvest:[],interactionsSent:[],disableSpaFix:((0,d.Mt)(t,"feature_flags")||[]).indexOf("disable-spa-fix")>-1},this.serializer=new I(this);const{state:n,serializer:i}=this;let{blocked:l}=this;const f=h.ee.get(t),v=f.get("mutation"),m=f.get("promise"),p=f.get("history"),g=f.get("events"),T=f.get("timer"),S=f.get("fetch"),b=f.get("jsonp"),L=f.get("xhr"),R=f.get("tracer"),w=new E.o("events",{onFinished:function(t){t.sent&&t.retry&&n.interactionsSent.length>0&&(n.interactionsSent.forEach((function(t){n.interactionsToHarvest.unshift(t)})),n.interactionsSent=[])},retryDelay:n.harvestTimeSeconds},{agentIdentifier:t,ee:f});if(w.harvest.on("events",(function(t){if(0===n.interactionsToHarvest.length||l)return{};var e=i.serializeMultiple(n.interactionsToHarvest,0,u.zJ);t.retry&&n.interactionsToHarvest.forEach((function(t){n.interactionsSent.push(t)}));return n.interactionsToHarvest=[],{body:{e:e}}})),(0,r.X)("block-spa",(()=>{l=!0,w.stopTimer(!0)}),this.featureName,f),!1!==(0,d.Mt)(t,"spa.enabled")){n.initialPageLoad=new N("initialPageLoad",0,n.lastSeenUrl,n.lastSeenRouteName,rt,t),n.initialPageLoad.save=!0,n.prevInteraction=n.initialPageLoad,n.currentNode=n.initialPageLoad.root,n.initialPageLoad[z]++,(0,r.X)(M,K,this.featureName,f),(0,r.X)(j,K,this.featureName,m);var W={getCurrentNode:function(){return n.currentNode},setCurrentNode:it};(0,r.X)("spa-register",(function(t){"function"===typeof t&&t(W)}),x.D.spa,f),(0,r.X)(U,Q,this.featureName,f),(0,r.X)("cb-end",Q,this.featureName,m),(0,r.X)(M,(function(e,i){var r=e[0],a=r.type,s=r["__nrNode:".concat(P.a)];if(!n.pageLoaded&&("load"===a&&i===window||A.LW)&&(n.pageLoaded=!0,this.prevNode=n.currentNode=null,n.initialPageLoad&&(s=n.initialPageLoad.root,n.initialPageLoad[z]=0,$((function(){X.push("popstate")})))),s)it(s);else if("hashchange"===a)it(n.nodeOnLastHashUpdate),n.nodeOnLastHashUpdate=null;else if(i instanceof XMLHttpRequest)it(f.context(i).spaNode);else if(!n.currentNode&&-1!==X.indexOf(a)){var o=new N(a,this[M],n.lastSeenUrl,n.lastSeenRouteName,rt,t);if(n.prevInteraction=o,it(o.root),"click"===a){var u=function(t){var e=t.tagName.toLowerCase();if(-1!==["a","button","input"].indexOf(e))return t.title||t.value||t.innerText}(r.target);u&&(n.currentNode.attrs.custom.actionText=u)}}r["__nrNode:".concat(P.a)]=n.currentNode}),this.featureName,g),(0,r.X)("setTimeout-end",(function(t,e,i){!n.currentNode||n.timerBudget-this.timerDuration<0||(!t||t[0]instanceof Function)&&(n.currentNode[B][z]++,this.timerId=i,n.timerMap[i]=n.currentNode,this.timerBudget=n.timerBudget-50)}),this.featureName,T),(0,r.X)("clearTimeout-start",(function(t){var e=t[0],i=n.timerMap[e];if(i){var r=i[B];r[z]--,r.checkFinish(),delete n.timerMap[e]}}),this.featureName,T),(0,r.X)(M,(function(){n.timerBudget=this.timerBudget||H;var t=this.timerId,e=n.timerMap[t];it(e),delete n.timerMap[t],e&&e[B][z]--}),this.featureName,T),(0,r.X)(M,(function(){it(this[G])}),this.featureName,L),(0,r.X)("new-xhr",(function(){if(!n.disableSpaFix&&!n.currentNode&&n.prevInteraction&&!n.prevInteraction.ignored){const t=n.prevInteraction;n.currentNode=t.root,t.root.end=null}n.currentNode&&(this[G]=n.currentNode.child("ajax",null,null,!0))}),this.featureName,L),(0,r.X)("send-xhr-start",(function(){var t=this[G];t&&!this.sent&&(this.sent=!0,t.dt=this.dt,t.jsEnd=t.start=this.startTime,t[B][z]++)}),this.featureName,L),(0,r.X)("xhr-resolved",(function(){var t=this[G];if(t){if(!(0,s.z)(this.params))return void t.cancel();var e=t.attrs;e.params=this.params,e.metrics=this.metrics,t.finish(this.endTime),this.currentNode&&this.currentNode.interaction&&this.currentNode.interaction.checkFinish()}}),this.featureName,f),(0,r.X)("new-jsonp",(function(t){n.currentNode&&((this[q]=n.currentNode.child("ajax",this[Y])).start=this["new-jsonp"],this.url=t,this.status=null)}),this.featureName,b),(0,r.X)("cb-start",(function(t){var e=this[q];e&&(it(e),this.status=200)}),this.featureName,b),(0,r.X)("jsonp-error",(function(){var t=this[q];t&&(it(t),this.status=0)}),this.featureName,b),(0,r.X)(Z,(function(){var t=this[q];if(t){if(null===this.status)return void t.cancel();var e=t.attrs,n=e.params={},i=(0,a.e)(this.url);n.method="GET",n.pathname=i.pathname,n.host=i.hostname+":"+i.port,n.status=this.status,e.metrics={txSize:0,rxSize:0},e.isJSONP=!0,t.jsEnd=this[Z],t.jsTime=this[j]?this[Z]-this[j]:0,t.finish(t.jsEnd)}}),this.featureName,b),(0,r.X)(Y,(function(t,e){if(t){if(!n.disableSpaFix&&!n.currentNode&&n.prevInteraction&&!n.prevInteraction.ignored){const t=n.prevInteraction;n.currentNode=t.root,t.root.end=null}n.currentNode&&(this[G]=n.currentNode.child("ajax",this[Y]),e&&this[G]&&(this[G].dt=e))}}),this.featureName,S),(0,r.X)(V+"start",(function(t){n.currentNode&&(this[G]=n.currentNode,n.currentNode[B][z]++)}),this.featureName,S),(0,r.X)(V+"end",(function(t,e,n){var i=this[G];i&&i[B][z]--}),this.featureName,S),(0,r.X)(J,(function(t,e){var n=this[G];if(n){if(t||!(0,s.z)(this.params))return void n.cancel();var i=n.attrs;i.params=this.params,i.metrics={txSize:this.txSize,rxSize:this.rxSize},i.isFetch=!0,n.finish(this[J])}}),this.featureName,S),(0,r.X)("newURL",(function(t,e){if(n.currentNode)n.currentNode[B].setNewURL(t);else if(n.prevInteraction&&!n.prevInteraction.ignored){const e=n.prevInteraction;e.setNewURL(t),e.root.end=null,it(e.root)}n.currentNode&&(n.lastSeenUrl!==t&&(n.currentNode[B].routeChange=!0),e&&(n.nodeOnLastHashUpdate=n.currentNode)),n.lastSeenUrl=t}),this.featureName,p),b.on("dom-start",(function(t){if(n.currentNode){var e=t[0],i=e&&"SCRIPT"===e.nodeName&&""!==e.src,r=n.currentNode.interaction;i&&(r[z]++,e.addEventListener("load",(function(){r[z]--,r.checkFinish()}),(0,y.m$)(!1)),e.addEventListener("error",(function(){r[z]--,r.checkFinish()}),(0,y.m$)(!1)))}})),(0,r.X)(M,(function(){it(n.prevNode)}),this.featureName,v),(0,r.X)("resolve-start",nt,this.featureName,m),(0,r.X)("executor-err",nt,this.featureName,m),(0,r.X)("propagate",(function(t,e){!e&&this[G]||(this[G]=n.currentNode)}),this.featureName,m),(0,r.X)(j,(function(){it((this.getCtx?this.getCtx():this)[G])}),this.featureName,m),(0,r.X)(D+"get",(function(e){var i,r,a,s;s=null!==n&&void 0!==n&&null!==(i=n.currentNode)&&void 0!==i&&i[B]?this.ixn=n.currentNode[B]:null===(null===n||void 0===n||null===(r=n.prevNode)||void 0===r?void 0:r.end)&&"initialPageLoad"!==(null===n||void 0===n||null===(a=n.prevNode)||void 0===a||null===(a=a[B])||void 0===a||null===(a=a.root)||void 0===a||null===(a=a[B])||void 0===a?void 0:a.eventName)?this.ixn=n.prevNode[B]:this.ixn=new N("api",e,n.lastSeenUrl,n.lastSeenRouteName,rt,t),n.currentNode||(s.checkFinish(),n.depth&&it(s.root))}),this.featureName,f),(0,r.X)(D+"actionText",(function(t,e){var n=this.ixn.root.attrs.custom;e&&(n.actionText=e)}),this.featureName,f),(0,r.X)(D+"setName",(function(t,e,n){var i=this.ixn.root.attrs;e&&(i.customName=e),n&&(i.trigger=n)}),this.featureName,f),(0,r.X)(D+"setAttribute",(function(t,e,n){this.ixn.root.attrs.custom[e]=n}),this.featureName,f),(0,r.X)(D+"end",(function(t){var e=this.ixn,n=et(e);it(null),n.child("customEnd",t).finish(t),e.finish()}),this.featureName,f),(0,r.X)(D+"ignore",(function(t){this.ixn.ignored=!0}),this.featureName,f),(0,r.X)(D+"save",(function(t){this.ixn.save=!0}),this.featureName,f),(0,r.X)(D+"tracer",(function(t,e,n){var i=this.ixn,r=et(i),a=f.context(n);if(!e)return a.inc=++i[z],a[G]=r;a[G]=r.child("customTracer",t,e)}),this.featureName,f),(0,r.X)(M,tt,this.featureName,R),(0,r.X)("no-"+M,tt,this.featureName,R),(0,r.X)(D+"getContext",(function(t,e){var n=this.ixn.root.attrs.store;setTimeout((function(){e(n)}),0)}),this.featureName,f),(0,r.X)(D+"onEnd",(function(t,e){this.ixn.handlers.push(e)}),this.featureName,f),(0,r.X)("api-routeName",(function(t,e){n.lastSeenRouteName=e,n.currentNode&&n.currentNode[B].setNewRoute(e)}),this.featureName,f),f.on("errorAgg",(function(t,e,i,r){n.currentNode&&(i._interactionId=n.currentNode.interaction.id,n.currentNode.type&&"interaction"!==n.currentNode.type&&(i._interactionNodeId=n.currentNode.id))})),f.on("interaction",(function(t){var e,i,r,a;if(t.ignored||!t.save&&!t.routeChange)return void f.emit("interactionDiscarded",[t]);n.prevInteraction===t&&(n.prevInteraction=null);t.root.attrs.id=(0,c.Rl)(),"initialPageLoad"===t.root.attrs.trigger&&(t.root.attrs.firstPaint=F.U.current.value,t.root.attrs.firstContentfulPaint=C.y.current.value);f.emit("interactionSaved",[t]),n.interactionsToHarvest.push(t);let s="RouteChange";"initialPageLoad"===(null===(e=t.root)||void 0===e||null===(e=e.attrs)||void 0===e?void 0:e.trigger)?s="InitialPageLoad":"api"===(null===(i=t.root)||void 0===i||null===(i=i.attrs)||void 0===i?void 0:i.trigger)&&(s="Custom");(0,_.p)(O.xS,["Spa/Interaction/".concat(s,"/Duration/Ms"),Math.max(((null===(r=t.root)||void 0===r?void 0:r.end)||0)-((null===(a=t.root)||void 0===a?void 0:a.start)||0),0)],void 0,x.D.metrics,f),w.scheduleHarvest(0)})),this.drain()}function K(){n.depth++,this.prevNode=n.currentNode,this.ct=n.childTime,n.childTime=0,n.timerBudget=H}function Q(){n.depth--;var t=this.jsTime||0,e=t-n.childTime;n.childTime=this.ct+t,n.currentNode&&(n.currentNode.callback(e,this[U]),this.isTraced&&(n.currentNode.attrs.tracedTime=e)),this.jsTime=n.currentNode?0:e,it(this.prevNode),this.prevNode=null,n.timerBudget=H}function tt(t,e,n){var i=this[G];if(i){var r=i[B],a=this.inc;this.isTraced=!0,a?r[z]--:i&&i.finish(t),n?it(i):r.checkFinish()}}function et(t){return n.currentNode&&n.currentNode[B]===t?n.currentNode:t.root}function nt(){this.resolved||(this.resolved=!0,this[G]=n.currentNode)}function it(t){n.pageLoaded||t||!n.initialPageLoad||(t=n.initialPageLoad.root),n.currentNode&&n.currentNode[B].checkFinish(),n.prevNode=n.currentNode,n.currentNode=t&&!t[B].root.end?t:null}function rt(t){t===n.initialPageLoad&&(n.initialPageLoad=null);var e=t.root,i=e.attrs;n.currentNode=e,(0,o.D)(t.handlers,(function(t,e){e(i.store)})),it(null)}}}(0,i.Z)(W,"featureName",k)},1682:(t,e,n)=>{n.d(e,{Fu:()=>X,NO:()=>K,Yn:()=>Z,a4:()=>R,mr:()=>et,mw:()=>w});var i,r,a,s,o,u=-1,c=function(t){addEventListener("pageshow",(function(e){e.persisted&&(u=e.timeStamp,t(e))}),!0)},d=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},h=function(){var t=d();return t&&t.activationStart||0},l=function(t,e){var n=d(),i="navigate";return u>=0?i="back-forward-cache":n&&(document.prerendering||h()>0?i="prerender":document.wasDiscarded?i="restore":n.type&&(i=n.type.replace(/_/g,"-"))),{name:t,value:void 0===e?-1:e,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},f=function(t,e,n){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var i=new PerformanceObserver((function(t){Promise.resolve().then((function(){e(t.getEntries())}))}));return i.observe(Object.assign({type:t,buffered:!0},n||{})),i}}catch(t){}},v=function(t,e,n,i){var r,a;return function(s){e.value>=0&&(s||i)&&((a=e.value-(r||0))||void 0===r)&&(r=e.value,e.delta=a,e.rating=function(t,e){return t>e[1]?"poor":t>e[0]?"needs-improvement":"good"}(e.value,n),t(e))}},m=function(t){requestAnimationFrame((function(){return requestAnimationFrame((function(){return t()}))}))},p=function(t){var e=function(e){"pagehide"!==e.type&&"hidden"!==document.visibilityState||t(e)};addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0)},g=function(t){var e=!1;return function(n){e||(t(n),e=!0)}},N=-1,T=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},y=function(t){"hidden"===document.visibilityState&&N>-1&&(N="visibilitychange"===t.type?t.timeStamp:0,S())},E=function(){addEventListener("visibilitychange",y,!0),addEventListener("prerenderingchange",y,!0)},S=function(){removeEventListener("visibilitychange",y,!0),removeEventListener("prerenderingchange",y,!0)},b=function(){return N<0&&(N=T(),E(),c((function(){setTimeout((function(){N=T(),E()}),0)}))),{get firstHiddenTime(){return N}}},L=function(t){document.prerendering?addEventListener("prerenderingchange",(function(){return t()}),!0):t()},I=[1800,3e3],R=function(t,e){e=e||{},L((function(){var n,i=b(),r=l("FCP"),a=f("paint",(function(t){t.forEach((function(t){"first-contentful-paint"===t.name&&(a.disconnect(),t.startTime<i.firstHiddenTime&&(r.value=Math.max(t.startTime-h(),0),r.entries.push(t),n(!0)))}))}));a&&(n=v(t,r,I,e.reportAllChanges),c((function(i){r=l("FCP"),n=v(t,r,I,e.reportAllChanges),m((function(){r.value=performance.now()-i.timeStamp,n(!0)}))})))}))},x=[.1,.25],w=function(t,e){e=e||{},R(g((function(){var n,i=l("CLS",0),r=0,a=[],s=function(t){t.forEach((function(t){if(!t.hadRecentInput){var e=a[0],n=a[a.length-1];r&&t.startTime-n.startTime<1e3&&t.startTime-e.startTime<5e3?(r+=t.value,a.push(t)):(r=t.value,a=[t])}})),r>i.value&&(i.value=r,i.entries=a,n())},o=f("layout-shift",s);o&&(n=v(t,i,x,e.reportAllChanges),p((function(){s(o.takeRecords()),n(!0)})),c((function(){r=0,i=l("CLS",0),n=v(t,i,x,e.reportAllChanges),m((function(){return n()}))})),setTimeout(n,0))})))},C={passive:!0,capture:!0},F=new Date,P=function(t,e){i||(i=e,r=t,a=new Date,O(removeEventListener),A())},A=function(){if(r>=0&&r<a-F){var t={entryType:"first-input",name:i.type,target:i.target,cancelable:i.cancelable,startTime:i.timeStamp,processingStart:i.timeStamp+r};s.forEach((function(e){e(t)})),s=[]}},_=function(t){if(t.cancelable){var e=(t.timeStamp>1e12?new Date:performance.now())-t.timeStamp;"pointerdown"==t.type?function(t,e){var n=function(){P(t,e),r()},i=function(){r()},r=function(){removeEventListener("pointerup",n,C),removeEventListener("pointercancel",i,C)};addEventListener("pointerup",n,C),addEventListener("pointercancel",i,C)}(e,t):P(e,t)}},O=function(t){["mousedown","keydown","touchstart","pointerdown"].forEach((function(e){return t(e,_,C)}))},k=[100,300],X=function(t,e){e=e||{},L((function(){var n,a=b(),o=l("FID"),u=function(t){t.startTime<a.firstHiddenTime&&(o.value=t.processingStart-t.startTime,o.entries.push(t),n(!0))},d=function(t){t.forEach(u)},h=f("first-input",d);n=v(t,o,k,e.reportAllChanges),h&&p(g((function(){d(h.takeRecords()),h.disconnect()}))),h&&c((function(){var a;o=l("FID"),n=v(t,o,k,e.reportAllChanges),s=[],r=-1,i=null,O(addEventListener),a=u,s.push(a),A()}))}))},H=0,M=1/0,U=0,j=function(t){t.forEach((function(t){t.interactionId&&(M=Math.min(M,t.interactionId),U=Math.max(U,t.interactionId),H=U?(U-M)/7+1:0)}))},D=function(){return o?H:performance.interactionCount||0},z=function(){"interactionCount"in performance||o||(o=f("event",j,{type:"event",buffered:!0,durationThreshold:0}))},B=[200,500],G=0,q=function(){return D()-G},Y=[],J={},V=function(t){var e=Y[Y.length-1],n=J[t.interactionId];if(n||Y.length<10||t.duration>e.latency){if(n)n.entries.push(t),n.latency=Math.max(n.latency,t.duration);else{var i={id:t.interactionId,latency:t.duration,entries:[t]};J[i.id]=i,Y.push(i)}Y.sort((function(t,e){return e.latency-t.latency})),Y.splice(10).forEach((function(t){delete J[t.id]}))}},Z=function(t,e){e=e||{},L((function(){var n;z();var i,r=l("INP"),a=function(t){t.forEach((function(t){t.interactionId&&V(t),"first-input"===t.entryType&&!Y.some((function(e){return e.entries.some((function(e){return t.duration===e.duration&&t.startTime===e.startTime}))}))&&V(t)}));var e,n=(e=Math.min(Y.length-1,Math.floor(q()/50)),Y[e]);n&&n.latency!==r.value&&(r.value=n.latency,r.entries=n.entries,i())},s=f("event",a,{durationThreshold:null!==(n=e.durationThreshold)&&void 0!==n?n:40});i=v(t,r,B,e.reportAllChanges),s&&("PerformanceEventTiming"in window&&"interactionId"in PerformanceEventTiming.prototype&&s.observe({type:"first-input",buffered:!0}),p((function(){a(s.takeRecords()),r.value<0&&q()>0&&(r.value=0,r.entries=[]),i(!0)})),c((function(){Y=[],G=D(),r=l("INP"),i=v(t,r,B,e.reportAllChanges)})))}))},$=[2500,4e3],W={},K=function(t,e){e=e||{},L((function(){var n,i=b(),r=l("LCP"),a=function(t){var e=t[t.length-1];e&&e.startTime<i.firstHiddenTime&&(r.value=Math.max(e.startTime-h(),0),r.entries=[e],n())},s=f("largest-contentful-paint",a);if(s){n=v(t,r,$,e.reportAllChanges);var o=g((function(){W[r.id]||(a(s.takeRecords()),s.disconnect(),W[r.id]=!0,n(!0))}));["keydown","click"].forEach((function(t){addEventListener(t,(function(){return setTimeout(o,0)}),!0)})),p(o),c((function(i){r=l("LCP"),n=v(t,r,$,e.reportAllChanges),m((function(){r.value=performance.now()-i.timeStamp,W[r.id]=!0,n(!0)}))}))}}))},Q=[800,1800],tt=function t(e){document.prerendering?L((function(){return t(e)})):"complete"!==document.readyState?addEventListener("load",(function(){return t(e)}),!0):setTimeout(e,0)},et=function(t,e){e=e||{};var n=l("TTFB"),i=v(t,n,Q,e.reportAllChanges);tt((function(){var r=d();if(r){var a=r.responseStart;if(a<=0||a>performance.now())return;n.value=Math.max(a-h(),0),n.entries=[r],i(!0),c((function(){n=l("TTFB",0),(i=v(t,n,Q,e.reportAllChanges))(!0)}))}}))}}}]);
//# sourceMappingURL=spa-aggregate.3d3d75d7.chunk.js.map